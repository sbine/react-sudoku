var EventEmitter={eventRepository:{},dispatch:function(a,b){if(this.eventRepository[a])for(var c=0;c<this.eventRepository[a].length;c++)this.eventRepository[a][c](b)},subscribe:function(a,b){this.eventRepository[a]||(this.eventRepository[a]=[]),this.eventRepository[a].push(b)}},Puzzle=React.createClass(Radium.wrap({getInitialState:function(){return{cells:[]}},componentDidMount:function(){EventEmitter.subscribe("validate",this.validatePuzzle),EventEmitter.subscribe("reset",this.resetPuzzle),this.resetPuzzle()},createCellMatrix:function(){var a=sudoku.generate(),b=[];for(i=65;i<=73;i++){var c=String.fromCharCode(i);for(j=1;j<=9;j++){var d=c+""+j;void 0!==a[d]?b[d]=a[d]:b[d]=""}}return b},getCells2D:function(){var a,b,c=_.values(this.state.cells),d=[],e=9;for(a=0,b=c.length;b>a;a+=e)d.push(c.slice(a,a+e));return d},updateCell:function(a,b){var c=this.state.cells,d=_.keys(c);c[d[a]]=b,this.setState({cells:c})},validatePuzzle:function(){console.log("validating puzzle"),console.log(this.state.cells),console.log(sudoku.getConflicts(this.state.cells))},resetPuzzle:function(){this.setState({cells:this.createCellMatrix()})},render:function(){var a=this,b=this.getCells2D(),c=-1;return React.createElement("table",null,React.createElement("tbody",null,_.map(b,function(b){return React.createElement("tr",null,_.map(b,function(b){return c++,React.createElement("td",null,React.createElement(Cell,{index:c,value:b,updateHandler:a.updateCell}))}))})))}})),Cell=React.createClass(Radium.wrap({getInitialState:function(){return{value:this.props.value||""}},componentWillReceiveProps:function(a){this.setState({value:a.value})},handleChange:function(a){var b=this.getDOMNode().value;this.setState({value:b}),this.props.updateHandler(this.props.index,b)},render:function(){return React.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,style:[cellStyles]})}})),cellStyles={cursor:"pointer",fontSize:18,margin:0,padding:"2px 5px",width:10,outline:0,":hover":{background:"#eee",border:"none"}},ValidateButton=React.createClass(Radium.wrap({handleValidation:function(){EventEmitter.dispatch("validate")},render:function(){return React.createElement("button",{style:[buttonStyles],onClick:this.handleValidation},"Validate")}})),ResetButton=React.createClass(Radium.wrap({handleReset:function(){EventEmitter.dispatch("reset")},render:function(){return React.createElement("button",{style:[buttonStyles],onClick:this.handleReset},"Reset")}})),buttonStyles={margin:"10px 5px",display:"inline",outline:0};React.render(React.createElement("div",null,React.createElement(Puzzle,null),React.createElement(ValidateButton,null),React.createElement(ResetButton,null)),document.getElementById("board"));